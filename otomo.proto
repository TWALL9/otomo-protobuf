syntax = "proto3";

import "google/protobuf/timestamp.proto";
package otomo;

option java_outer_classname = "OtomoProto";

message TopMsg {
    oneof msg {
        Config config = 1;
        Joystick joystick = 2;
        // Move -> g-code like movement instruction
        Log log = 99;
    }
}

message Config {
    LogLevel new_level = 1;
    google.protobuf.Timestamp set_time = 2;
}

message Joystick {
    float heading = 1;
    float speed = 2;
}

enum LogLevel {
    TRACE = 0;
    DEBUG = 1;
    INFO = 2;
    WARN = 3;
    ERROR = 4;
}

message Log {
    reserved 1; // datetime
    LogLevel level = 2;
    string handle = 3;
    string message = 4;
}
